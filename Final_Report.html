<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Project Final Report</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="screencast.html">
    <span class="fa fa-brands fa-youtube"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data_wrangling.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Data Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="eda.html#Sports_Betting">Sports Betting</a>
    </li>
    <li>
      <a href="eda.html#BRFSS">BRFSS</a>
    </li>
    <li>
      <a href="https://ab6168.shinyapps.io/shiny_app/">Demographic Dashboard</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Additional Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="additional_analysis.html#Proportion_Tests">Proportion Tests</a>
    </li>
    <li>
      <a href="additional_analysis.html#Fischer’s_Exact_Test">Fischer's Exact Test</a>
    </li>
    <li>
      <a href="additional_analysis.html#Linear_Regression">Linear Regression</a>
    </li>
    <li>
      <a href="additional_analysis.html#Discussion">Discussion</a>
    </li>
  </ul>
</li>
<li>
  <a href="conclusions.html">So what?</a>
</li>
<li>
  <a href="Final_Report.html">Report</a>
</li>
<li>
  <a href="https://github.com/shivalikachavan/p8105_final">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Project Final Report</h1>

</div>


<pre class="r"><code>knitr::opts_chunk$set(echo = TRUE, collapse = TRUE)

library(tidyverse)
library(haven)
library(lubridate)
library(here)
library(patchwork)
library(epitools)
library(ggcorrplot)
library(patchwork)
library(plotly)

source(here(&quot;source&quot;, &quot;load_clean_brfss.R&quot;))
source(here(&quot;source&quot;, &quot;filter_brfss_data.R&quot;))
source(here(&quot;source&quot;, &quot;standardize_brfss_variable.R&quot;))
source(here(&quot;source&quot;, &quot;prop_test_functions.R&quot;))
source(here(&quot;source&quot;, &quot;run_fishers_test.R&quot;))

brfss_data = load_clean_brfss(here(&quot;data&quot;, &quot;brfss_clean_2017_2024.csv.zip&quot;))
state_fips = read_csv(here(&quot;data&quot;, &quot;legal_sports_report&quot;, &quot;state_fips.csv&quot;))

state_legal_dates = read_csv(here(&quot;data&quot;, &quot;legal_sports_report&quot;, &#39;state_legalization_dates.csv&#39;))
sb_rev_by_month = read_csv(here(&quot;data&quot;, &quot;legal_sports_report&quot;, &quot;sb_rev_by_month.csv&quot;))
sb_rev_by_state_month = read_csv(here(&quot;data&quot;, &quot;legal_sports_report&quot;,&#39;sb_rev_by_state_month.csv&#39;))
sb_rev_by_state = read_csv(here(&quot;data&quot;, &quot;legal_sports_report&quot;, &quot;sb_rev_by_state.csv&quot;))
state_pop = read_csv(here(&quot;data&quot;, &quot;state_population_census.csv&quot;))

years_in_data = unique(year(pull(sb_rev_by_month, month)))

outcome_vars = c(&quot;any_physical_health_not_good_days&quot;, &quot;any_mental_health_not_good_days&quot;, &quot;has_depressive_disorder&quot;, &quot;has_binge_drink&quot;)</code></pre>
<div id="motivation" class="section level1">
<h1>1. Motivation</h1>
<p>The rapid expansion of legalized sports gambling in the United States
has reshaped the landscape of professional sports. Since the Supreme
Court ruled in 2018 to repeal the Professional and Amateur Sports
Protection Act (PASPA), 39 states have legalized some form of sports
betting, generating billions in annual handle (total amount wagered). It
feels like there is a new sports gambling scandal every month, most
recently the <a
href="https://www.nytimes.com/2025/10/23/nyregion/nba-gambling-scandal-explained.html">NBA
gambling scandal</a> and an ongoing debate over <a
href="https://www.espn.com/college-sports/story/_/id/46762598/ncaa-delays-rule-change-permitting-college-athletes-bet-professional-sports">NCAA
rules</a> regarding athlete gambling, involving the increasingly popular
player-specific proposition “prop” bets. Despite industry claims that
legalization promotes consumer protections and tax revenue, concerns
persist that widespread access may lead to an increase in gambling
participation and adverse financial and health outcomes.</p>
<p>This project, “The House Always Wins? Exploring the Societal Costs of
Legal Sports Gambling,” investigates the public health implications of
this policy shift. Building on prior scholarship, we integrate
Behavioral Risk Factor Surveillance System (BRFSS) data, state-level
gambling policy information, and market activity to examine how
legalization relates to self-reported mental health outcomes and
population-level risk profiles. By combining behavioral surveillance
data with policy variation across states, the project aims to generate
empirical evidence on how sports gambling laws trend with population
health.</p>
</div>
<div id="related-work" class="section level1">
<h1>2. Related work</h1>
<p>Recent studies have quantified the broader consequences of legalized
sports gambling. <a href="https://ssrn.com/abstract=4865678">Couture,
Cross, and Wu (2024)</a> used BRFSS data to examine whether sports
betting is associated with poorer mental health, focusing specifically
on self-reported mentally unhealthy days in states that legalized before
the COVID-19 pandemic. They found that the impact of legalized sports
gambling on the probability of reporting a poor mental health day was
stratified by sex and age. Men between the ages of 20-34 were found to
be most at risk with an increased likelihood of 3.8%. <a
href="https://ssrn.com/abstract=4903302">Hollenbeck, Larson and
Proserpio (2025)</a> complements this by analyzing the financial
consequences of legalized sports gambling, documenting increases in
consumer losses and household financial strain following legalization.
Although differing in outcomes, both papers leverage the staggered,
state-by-state rollout of legalization to identify causal effects.
Together, these findings suggest that both mental health and financial
well-being may be adversely affected by the expansion of sports
wagering, underscoring the need for broader, population-level analyses
such as the one undertaken in this project.</p>
</div>
<div id="initial-questions" class="section level1">
<h1>3. Initial questions</h1>
<p>Initial Questions:</p>
<ol style="list-style-type: decimal">
<li><p>What are the trends in the amount of money wagered (handle)
across states that have legalized sports gambling?</p></li>
<li><p>Does legalized sports gambling have a negative effect on public
health outcomes? This involves analyzing changes in rates of depression
(or other mental disorders), domestic violence, and substance abuse in
states where sports betting is legal.</p></li>
<li><p>Using the each state’s legalization date (if one exists) as the
inflection point, are these health outcomes stratified by demographics
(age, sex, race, tax bracket, and education level) and state?</p></li>
</ol>
<p>New Questions:</p>
<ol style="list-style-type: decimal">
<li>How are health outcomes associated with each other? Are there
patterns between variables that may help inform what to control for in
future analyses?</li>
</ol>
</div>
<div id="data" class="section level1">
<h1>4. Data</h1>
<div id="source" class="section level5">
<h5>Source</h5>
<p>Our primary data source for health outcomes is the Behavioral Risk
Factor Surveillance System (BRFSS), an annual, state-based, telephone
survey conducted by the CDC. We looked at all completed interviews
between 2017 and 2024 (that were publicly available as of early November
2025). We chose this period as it spans the period before the Supreme
Court ruling in 2018, which allowed many states to legalize sports
betting. Our final dataset contained approximately 2.75 million
completed interviews across all years.</p>
<p>For information on sports betting we scraped data from <a
href="https://www.legalsportsreport.com/sports-betting-states/revenue/">Legal
Sports Report</a> and manually pulled the dates of legalization (for
both retail and online) from the <a
href="https://www.americangaming.org/research/state-of-play-map/">American
Gaming Association</a></p>
</div>
<div id="scraping-method" class="section level5">
<h5>Scraping Method</h5>
<p>The code to scrape Legal Sports Report is in
<code>get_sports_betting_data.R</code>. The process was straightforward,
with two summary tables at the top and separate tables for each state
below. We pulled all html tables and iterated through the state headers
to aggregate data for all states. There were a few states with no data
(Florida, New Mexico, North Dakota, Washington, and Wisconsin).</p>
</div>
<div id="cleaning" class="section level5">
<h5>Cleaning</h5>
<p>Across the years, there have been many iterations of the BRFSS
survey, in terms of variable coding and questions asked. As a result,
extensive cleaning and standardization was required. This process was
handled with several <a
href="https://github.com/shivalikachavan/p8105_final/tree/main/source">source</a>
files.</p>
<p>The initial cleaning takes a while to run, so it is included but not
evaluated here:</p>
<pre class="r"><code>read_standardize_clean = function(datayear, filepath) {
  
  print(datayear)
  
  cleaned_data = 
    read_xpt(filepath) |&gt; 
    janitor::clean_names() |&gt; 
    standardize_brfss_variable() |&gt; 
    filter_brfss_data(data_year = datayear)
  
  cleaned_data
}

data_years = 2017:2024
filepaths &lt;- here::here(&quot;data&quot;, &quot;raw_data&quot;, &quot;brfss&quot;, paste0(&quot;LLCP&quot;, data_years, &quot;.XPT&quot;))

data = 
  tibble(
    data_year = data_years,
    filepath = filepaths,
    cleaned_dfs = map2(data_year, filepath, read_standardize_clean)
  ) |&gt; 
  select(cleaned_dfs) |&gt; 
  unnest(cols = c(cleaned_dfs)) 

data |&gt; write_csv(here::here(&quot;data&quot;, &quot;brfss_clean_2017_2024.csv&quot;)) # has some duplicate variables, handled in load/clean step</code></pre>
<p>This chunk takes the downloaded .XPT files available through the CDC
website (~9 GB total!), standardizes and filters the individual years,
concatenates the data from each year, and saves the final dataset as a
csv. This cleaned csv is then zipped and loaded in subsequent
operations. A more detailed explanations of this process are available
in <a
href="https://github.com/shivalikachavan/p8105_final/blob/main/eda/brfss_data_exploration.Rmd">brfss_data_exploration.Rmd</a>
and <a
href="https://github.com/shivalikachavan/p8105_final/blob/main/eda/brfss_data_cleaning.Rmd">brfss_data_cleaning.Rmd</a>.</p>
<ul>
<li><a
href="https://github.com/shivalikachavan/p8105_final/blob/main/source/standardize_brfss_variable.R">standardize_brfss_variable.R</a>:
This function renames variables that have more than one version of the
same variable (e.g. <code>HLTHPL1</code> and <code>HLTHPL2</code>).
Seeing that the variables differed in name only (the responses were
coded in the same way), this was handled by renaming different versions
to the single standardized name.
(e.g. <code>hlthpl_standard</code>).</li>
<li><a
href="https://github.com/shivalikachavan/p8105_final/blob/main/source/filter_brfss_data.R">filter_brfss_data.R</a>:
This function keeps the key variables for our study (unique survey
identifiers, demographic/predictor variables, health/financial outcomes
variables). It also filters for completed interviews
(<code>dispcode = 1100</code>) and converts the date of the interview to
a Date type variable.</li>
<li><a
href="https://github.com/shivalikachavan/p8105_final/blob/main/source/load_clean_brfss.R">load_clean_brfss_data.R</a>:
This function is used to load the cleaned data set into R by recoding
variables (e.g. <code>1 ~ "Male"</code>), and connects the date of each
interview to the status of legalization in that state. This
<code>sb_legal</code> treatment variable is added by merging with <a
href="https://github.com/shivalikachavan/p8105_final/blob/main/data/legal_sports_report/state_legalization_dates.csv">state_legalization_dates.csv</a>.</li>
</ul>
<p>Our analyses focuses on the following cleaned variable groups:</p>
<ul>
<li><p>Treatment Variable: <code>sb_legal</code> (<code>1</code> if the
interview was conducted after the state legalized sports betting
(rounded to the first of the month), <code>0</code> if it was before,
and <code>NA</code> if the state has yet to legalize sport
betting)</p></li>
<li><p>Outcome Variables: <code>mental_health_not_good_days</code>,
<code>physical_health_not_good_days</code>,
<code>depressive_disorder</code>, and <code>binge_drink</code>. In some
cases, a binary version of these variables was used (1 if the
participant has the outcome, 0 if not):</p>
<ul>
<li><em>At least 1 poor mental health day</em>: “Now thinking about your
mental health, which includes stress, depression, and problems with
emotions, for how many days during the past 30 days was your mental
health not good?”</li>
<li><em>At least 1 poor physical health day</em>: “Now thinking about
your physical health, which includes physical illness and injury, for
how many days during the past 30 days was your physical health not
good?”</li>
<li><em>Depression</em>: “Has a doctor or other health professional ever
told you that you had a depressive disorder, including depression, major
depression, dysthymia, or minor depression?”</li>
<li><em>Binge Drinking:</em> “Considering all alcoholic beverages that
you drink, on average, how many times per month do you have 5 (for men)
or 4 (for women) or more drinks on one occasion?”</li>
</ul></li>
<li><p>Predictors: any demographic variables (sex, age group, education
level, etc.)</p></li>
</ul>
<p>The final number of observations used in the BRFSS dataset were
2749477.</p>
</div>
</div>
<div id="exploratory-analysis" class="section level1">
<h1>5. Exploratory analysis</h1>
<div id="sports-betting" class="section level2">
<h2>Sports Betting</h2>
<div id="total-handle-and-number-of-states-with-legal-sports-betting"
class="section level5">
<h5>Total Handle and Number of States with Legal Sports Betting</h5>
<pre class="r"><code>get_n_states_legal = function(input_month) {
  n_states_legal = nrow(filter(state_legal_dates, first_start &lt;= input_month))
}

sb_rev_by_month = sb_rev_by_month |&gt; 
  mutate(
    n_states_legal = sapply(month, get_n_states_legal)
  ) 

scale_factor = max(pull(sb_rev_by_month,n_states_legal)) / max(pull(sb_rev_by_month,handle))

sb_rev_by_month |&gt; 
  ggplot(aes(x = month)) +
  geom_line(aes(y=handle, color=&quot;handle&quot;)) +
  geom_line(aes(y=n_states_legal / scale_factor, color=&quot;legal&quot;)) +
  scale_y_continuous(
    name = &quot;Handle ($)&quot;,
    sec.axis = sec_axis(~ . * scale_factor, name=&quot;States Legal&quot;)
  ) +
  #scale_color_(name = NULL) +
  scale_color_discrete(name = NULL, labels = c(&quot;handle&quot; = &quot;Total Handle&quot;, &quot;legal&quot; = &quot;n States Legal&quot;)) +
  labs(
    title = &quot;Total Sports Handle and Number of States with Legal Sports Betting&quot;,
    x = &quot;Date&quot;
  ) +
  theme_minimal()</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>The plot shows handle going up with the number of states that have
legalized sports betting. It also clearly shows strong cyclical trends
in total handle, suggesting that the volume of betting is highly
sensitive to the sports calendar.</p>
</div>
<div id="understanding-spikes-in-sports-betting-handle"
class="section level5">
<h5>Understanding Spikes in Sports Betting Handle</h5>
<p>In addition to the BRFSS survey, we looked at sports betting data
(Total Handle) to understand the cyclic nature of the betting market
that could influence mental health outcomes. The purpose is to determine
if the spikes in betting activity align with major sports seasons.</p>
<div id="nfl-season" class="section level6">
<h6>NFL Season</h6>
<pre class="r"><code>nfl_event_dates = tibble(
  date = c(
    ymd(paste(years_in_data, &quot;09&quot;, &quot;01&quot;, sep = &quot;-&quot;)),
    ymd(paste(years_in_data, &quot;01&quot;, &quot;01&quot;, sep = &quot;-&quot;)),
    ymd(paste(years_in_data, &quot;02&quot;, &quot;01&quot;, sep = &quot;-&quot;))
    ),
  
  type = case_when(
    month(date) == 2 ~ &quot;Solid&quot;, 
    TRUE ~ &quot;Dotted&quot; 
    ),
  
  label = case_when(
    month(date) == 9 ~ &quot;Start of Season&quot;,
    month(date) == 1 ~ &quot;End of Season&quot;,
    month(date) == 2 ~ &quot;Super Bowl&quot;
    )
  ) |&gt; 
  filter(date &gt;= min(sb_rev_by_month$month), date &lt;= max(sb_rev_by_month$month))


sb_rev_by_month |&gt;
  mutate(handle_B = handle / 1e9) |&gt;
  ggplot(aes(x = month, y = handle_B)) +
  geom_line() +
  ylab(&quot;Handle (in USD, Billions)&quot;) +
  geom_vline(
    data = nfl_event_dates,
    aes(xintercept = date, linetype = type),
    color = &quot;#D50A0A&quot;,
    show.legend = TRUE 
  ) +
  scale_linetype_manual(
    name = &quot;NFL Season&quot;, 
    values = c(&quot;Dotted&quot; = &quot;dotted&quot;, &quot;Solid&quot; = &quot;solid&quot;), 
    labels = c(&quot;Dotted&quot; = &quot;NFL Regular Season&quot;, &quot;Solid&quot; = &quot;Super Bowl&quot;) 
  ) + 
  theme(legend.position=&quot;bottom&quot;)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>The largest peak in the betting handle clearly coincides with the NFL
regular season in September, and a smaller dip aligns with the season’s
end around the Super Bowl.</p>
</div>
<div id="ncaa-march-madness" class="section level6">
<h6>NCAA March Madness</h6>
<pre class="r"><code>ncaa_event_dates = tibble(
  date = c(
    ymd(paste(years_in_data, &quot;03&quot;, &quot;01&quot;, sep = &quot;-&quot;))
    ),
  
  type = case_when(
    month(date) == 3 ~ &quot;Solid&quot;
    ),
  
  label = case_when(
    month(date) == 3 ~ &quot;March Madness&quot;
    )
  ) |&gt; 
  filter(date &gt;= min(sb_rev_by_month$month), date &lt;= max(sb_rev_by_month$month))


sb_rev_by_month |&gt;
  mutate(handle_B = handle / 1e9) |&gt;
  ggplot(aes(x = month, y = handle_B)) +
  geom_line() +
  ylab(&quot;Handle (in USD, Billions)&quot;) +
  geom_vline(
    data = ncaa_event_dates,
    aes(xintercept = date, linetype = type),
    color = &quot;#009CDE&quot;,
    show.legend = TRUE 
  ) +
  scale_linetype_manual(
    name = &quot;NCAA Events&quot;, 
    values = c(&quot;Solid&quot; = &quot;solid&quot;), 
    labels = c(&quot;Solid&quot; = &quot;March Madness&quot;) 
  ) + 
  theme(legend.position=&quot;bottom&quot;)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>A secondary peak in betting handle occurs during March Madness. This
is important because it represents a period of intense, short-term
betting interest.</p>
</div>
</div>
<div id="cumulative-handle-by-state" class="section level5">
<h5>Cumulative Handle by State</h5>
<p>This code uses plotly, which doesn’t render to github document. There
is a static image with no interactivity:</p>
<pre class="r"><code>sb_rev_by_state = sb_rev_by_state |&gt; 
  filter(market != &quot;Total&quot;) |&gt; 
  left_join(state_fips, join_by(market == state)) |&gt; 
  left_join(
    select(state_legal_dates, state, first_start, online, offline), 
    join_by(market == state)) |&gt; 
  mutate(
    legal_type = case_when(
      !is.na(online) &amp; !is.na(offline) ~ &quot;both&quot;,
      !is.na(offline) ~ &quot;offline&quot;,
      !is.na(online) ~&quot;online&quot;
    )
  ) |&gt; 
  mutate(
    hover = paste(&quot;&lt;b&gt;&quot;,market,&quot;&lt;/b&gt;&quot;, &#39;&lt;br&gt;&#39;, 
                  &quot;Handle: $&quot;, format(handle / 1000000000, digits = 2), &quot;B&quot;, &quot;&lt;br&gt;&quot;, 
                  &quot;Revenue: $&quot;, format(revenue / 100000000, digits = 2), &quot;M&quot;, &quot;&lt;br&gt;&quot;,
                  &quot;Hold: &quot;, hold, &#39;%&lt;br&gt;&#39;, 
                  &quot;Taxes: &quot;, format(taxes / 100000000, digits = 2), &quot;M&quot;,
                  &quot;&lt;extra&gt;&lt;/extra&gt;&quot;)
    )
                      
# give state boundaries a white border
l = list(color = toRGB(&quot;white&quot;), width = 2)

# specify some map projection/options
g = list(
  scope = &#39;usa&#39;,
  projection = list(type = &#39;albers usa&#39;),
  showlakes = TRUE,
  lakecolor = toRGB(&#39;white&#39;)
)

fig = plot_geo(sb_rev_by_state, locationmode = &#39;USA-states&#39;)
fig = fig |&gt; 
  add_trace(
    z = ~handle, hovertemplate = ~hover, #text = ~hover, 
    locations = ~abbr,
    color = ~handle, colorscale=&quot;Viridis&quot;
  ) |&gt; 
  colorbar(title = &quot;Millions USD&quot;) |&gt; 
  layout(
    title = &#39;Cumulative Handle by State&#39;, #&lt;br&gt;(Hover for breakdown)&#39;,
    geo = g
  )

fig</code></pre>
<div class="float">
<img src="./Julia_files/sb_chloropleth.png"
alt="Sports Betting Cloropleth" />
<div class="figcaption">Sports Betting Cloropleth</div>
</div>
</div>
<div id="handle-by-state-in-2024" class="section level5">
<h5>Handle by State in 2024</h5>
<pre class="r"><code>sb_rev_by_state_month |&gt; 
  mutate(year = year(month)) |&gt;   # Extract year
  group_by(state, year) |&gt;        # Group by year
  summarize(
    total_handle = sum(handle, na.rm = TRUE),
  ) |&gt; 
  filter(year == 2024) |&gt; 
  ungroup() |&gt; 
  mutate(
    state = fct_reorder(state, total_handle)
  ) |&gt; 
  ggplot(aes(x=state, y= total_handle)) +
  coord_flip() +
  geom_bar(stat=&quot;identity&quot;) +
  labs(
    title = &quot;Sports Betting Handle by State in 2024&quot;,
    x = &quot;State&quot;,
    y = &quot;Handle ($)&quot;
  ) +
  theme_minimal()
## `summarise()` has grouped output by &#39;state&#39;. You can override using the
## `.groups` argument.</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>We can see New York has the highest handle which makes sense since it
is the most populous state. We can get a sense of the popularity of
sports gambling by looking at total handle per capita using US census
data for total population by state.</p>
</div>
<div id="handle-by-state-per-capita-in-2024" class="section level5">
<h5>Handle by State per Capita in 2024</h5>
<pre class="r"><code>sb_rev_by_state_month |&gt; 
  mutate(year = year(month)) |&gt;  
  group_by(state, year) |&gt;                 
  summarize(
    total_handle = sum(handle, na.rm = TRUE),
  ) |&gt; 
  filter(year == 2024) |&gt; 
  ungroup() |&gt; 
  left_join(select(state_pop, state, &quot;2024&quot;), by = &quot;state&quot;) |&gt; 
  rename(population_2024 = &#39;2024&#39;) |&gt; 
  mutate(
    handle_per_capita = total_handle / population_2024,
    state = fct_reorder(state, handle_per_capita)
  ) |&gt; 
  ggplot(aes(x=state, y= handle_per_capita)) +
  coord_flip() +
  geom_bar(stat=&quot;identity&quot;) +
  labs(
    title = &quot;Sports Betting Handle per Capita in 2024&quot;,
    x = &quot;State&quot;,
    y = &quot;Handle ($) per capita&quot;
  ) +
  theme_minimal()
## `summarise()` has grouped output by &#39;state&#39;. You can override using the
## `.groups` argument.</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>We can see that Nevada and New Jersey have the highest handle per
capita.</p>
</div>
</div>
<div id="brfss" class="section level2">
<h2>BRFSS</h2>
<div id="data-completeness" class="section level5">
<h5>Data Completeness</h5>
<p>One of our primary concerns with data was ensuring that the key
outcome variables were reported consistently from 2017 to 2024.</p>
<pre class="r"><code>all_outcome_vars = c(&quot;general_health&quot;, &quot;general_health_refactored&quot;, &quot;michd&quot;,
                 &quot;physical_health&quot;, &quot;physical_health_not_good_days&quot;, &quot;leisure_physical_activity_last_30_days&quot;,
                 &quot;mental_health&quot;, &quot;mental_health_not_good_days&quot;, &quot;poor_health&quot;, &quot;depressive_disorder&quot;,
                 &quot;difficulty_self_care&quot;, &quot;life_satisfaction&quot;, &quot;emotional_support&quot;, &quot;loneliness&quot;, &quot;binge_drink&quot;,
                 &quot;heavy_drink&quot;, &quot;lost_reduced_employment&quot;, &quot;financial_strain_bills&quot;, &quot;financial_strain_utilities&quot;)

summarize_outcome_by_year = function(outcome_var, df = brfss_data) {
  
  outcome_sym = rlang::sym(outcome_var) 
  
  df |&gt; 
    group_by(year(date), !!outcome_sym) |&gt; 
    summarize(n = n(), .groups = &quot;drop&quot;) |&gt; 
    pivot_wider(
      names_from = `year(date)`, 
      values_from = n
    )
}

find_complete_years = function(outcome_var, summary_df){
  
  outcome_sym = rlang::sym(outcome_var) 
  
  summary_df |&gt; 
    filter(!is.na(!!outcome_sym)) |&gt; 
    summarize(
      across(
        .cols = everything(),
        .fns = ~ !all(is.na(.x)) 
        )
      )|&gt;
    select(-!!outcome_sym) |&gt; 
    pivot_longer(
      cols = everything(),
      names_to = &quot;year&quot;,
      values_to = &quot;is_complete&quot;
      ) |&gt; 
    summarize(
      n_complete_years = sum(is_complete)
      ) |&gt; 
    pull(n_complete_years)
    
}

complete_outcomes = tibble(
  outcome = all_outcome_vars,
  summary = map(all_outcome_vars, summarize_outcome_by_year),
  n_complete_years = map2(all_outcome_vars, summary, find_complete_years)
  ) |&gt; 
  arrange(n_complete_years) |&gt; 
  filter(
    n_complete_years == 8
  ) |&gt; 
  pull(outcome)

setdiff(all_outcome_vars, complete_outcomes)
## [1] &quot;life_satisfaction&quot;          &quot;emotional_support&quot;         
## [3] &quot;loneliness&quot;                 &quot;lost_reduced_employment&quot;   
## [5] &quot;financial_strain_bills&quot;     &quot;financial_strain_utilities&quot;</code></pre>
<p>Some of the outcome variables we were interested in looking at like
financial strain, were not available in all years. In order to maintain
a robust analysis over time, we were limited to those variables that
were available over all years. Our 4 primary outcomes are available over
all years.</p>
</div>
<div id="distribution-of-key-outcomes-rationale-for-binary-outcomes"
class="section level5">
<h5>Distribution of Key Outcomes + Rationale for Binary Outcomes</h5>
<pre class="r"><code>brfss_data |&gt;
  filter(year(date) %in% c(2017, 2024)) |&gt;
  select(year = date, mental_health, physical_health) |&gt;
  mutate(
    year = factor(year(year)),
    mental_health = ifelse(mental_health &gt; 30, 31, mental_health), 
    physical_health = ifelse(physical_health &gt; 30, 31, physical_health)
  ) |&gt;
  pivot_longer(
    cols = c(mental_health, physical_health),
    names_to = &quot;outcome&quot;,
    values_to = &quot;n_bad_days&quot;
  ) |&gt;
  ggplot(aes(x = n_bad_days, fill = year)) +
  geom_bar(position = &quot;dodge&quot;) +
  scale_x_continuous(breaks = c(0, 7, 14, 21, 31), labels = c(0, 7, 14, 21, 31)) +
  facet_wrap(~outcome) +
  labs(
    title = &quot;Distribution of Poor Health Days (2017 vs. 2024)&quot;,
    x = &quot;Number of Days of Poor Health (Past 30 Days)&quot;,
    y = &quot;Count of Respondents&quot;
  )
## Warning: Removed 27288 rows containing non-finite outside the scale range
## (`stat_count()`).</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Given the concentration of responses at 0 days, we decided to use a
binary outcome variable like
<code>any_physical_health_not_good_days</code> as the outcome variable.
This also follows what Couture, et. al. used in their analysis. It also
simplified statistical tests that we decided to do later on.</p>
</div>
<div id="correlation-analysis" class="section level5">
<h5>Correlation Analysis</h5>
<p>To understand relationships among the health outcome variables in the
BRFSS dataset, we conducted a correlation analysis. Initially, we
computed separate correlation matrices for males and females to assess
whether the relationships among health outcomes differed meaningfully by
sex. For each group, we selected potential key health variables:</p>
<pre class="r"><code>#selecting variables
correlation_vars = c(&quot;general_health&quot;,&quot;general_health_refactored&quot;, 
                     &quot;mental_health&quot;, &quot;mental_health_not_good_days&quot;,
                     &quot;physical_health&quot;, &quot;physical_health_not_good_days&quot;,
                     &quot;poor_health&quot;, &quot;depressive_disorder&quot;,
                     &quot;difficulty_self_care&quot;, &quot;michd&quot;,
                     &quot;binge_drink&quot;, &quot;heavy_drink&quot;, 
                     &quot;leisure_physical_activity_last_30_days&quot;)


#stratifying datasets by sex
brfss_males = brfss_data |&gt;
  filter(sex == &quot;Male&quot;) |&gt;
  select(all_of(correlation_vars)) |&gt; 
  mutate_all(as.numeric)

brfss_females = brfss_data |&gt;
  filter(sex == &quot;Female&quot;) |&gt;
  select(all_of(correlation_vars)) |&gt; 
  mutate_all(as.numeric)</code></pre>
<pre class="r"><code>corr_males = 
  cor(brfss_males, 
      method = &quot;spearman&quot;,
      use = &quot;pairwise.complete.obs&quot;) |&gt; 
  ggcorrplot(
    type = &quot;upper&quot;,  
    method = &quot;square&quot;, 
    lab = TRUE,               
    lab_size = 2.5,
    tl.cex = 10,
    title = &quot;Correlations: males&quot;) +
  theme(plot.title = element_text(hjust = 0.5))
  
corr_females =
  cor(brfss_females,
      method = &quot;spearman&quot;,
      use = &quot;pairwise.complete.obs&quot;) |&gt; 
  ggcorrplot(
    type = &quot;upper&quot;,
    method = &quot;square&quot;,
    lab = TRUE,
    lab_size = 2.5,
    tl.cex = 10,
    title = &quot;Correlations: females&quot;) +
  theme(plot.title = element_text(hjust = 0.5))

corr_males</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<pre class="r"><code>
corr_females</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-11-2.png" width="672" /></p>
<p>Overall, the patterns of association between variables were highly
similar across sexes with no meaningfully different direction or
magnitude of correlations. Because stratification did not reveal
significant differences, we proceeded to perform correlation analysis
without stratification.</p>
<pre class="r"><code>brfss_all = brfss_data |&gt; 
  select(all_of(correlation_vars)) |&gt; 
  mutate_all(as.numeric)

cor(brfss_all, 
      method = &quot;spearman&quot;,
      use = &quot;pairwise.complete.obs&quot;) |&gt; 
  ggcorrplot(
    type = &quot;upper&quot;,
    method = &quot;square&quot;,
    lab = TRUE,
    lab_size = 2.5,
    tl.cex = 10,
    title = &quot;Correlations&quot;
  ) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>The correlation matrix revealed redundancy with pairs of variables,
e.g., <code>mental_health</code>
vs. <code>mental_health_not_good_days</code> (r = 0.99). Including both
variables in regression models would introduce multicollinearity, so one
variable from each pair was selected.</p>
<p>We can see that <code>depressive_disorder</code> showed the strongest
positive correlation with <code>mental_health</code>(r = 0.44).
<code>poor_health</code> showed a similar pattern correlating the
strongest with <code>physical_health</code> (r = 0.43). These trends may
reflect how individuals reporting depressive symptoms or more days where
poor health negatively impacted usual activities also tend to report
more poor physical and mental health days.</p>
<p>On the other hand, <code>heavy_drink</code> and
<code>binge_drink</code> showed weak correlations with most other health
outcomes.</p>
<p>Note: BRFSS contains a variable <code>general_health</code> which is
a Likert scale from 1-6 with 1 being “Good Health” and 6 being “Poor
Health.” There is also a <code>general_health_refactored</code> column
with 1 being “Good Health” and 2 being “Poor Health.”
<code>general_health_refactored</code> shows negative correlations with
variables like <code>physical_health</code> and
<code>mental_health</code>. As general health gets better (lower score),
the number of bad health days goes up. This is an unexpected result. We
can see that <code>general_health</code> has little correlation between
most other health outcomes, which was surprising. We may be seeing these
trends since <code>general_health_refactored</code> has fewer, more
broadly defined categories. The more narrowly defined
<code>general_health</code> shows minimal correlation. If we were to do
future analyses, we would want to use the narrowly defined variable
<code>general_health.</code></p>
</div>
<div
id="distribution-of-primary-health-outcomes-by-demographic-variables"
class="section level5">
<h5>Distribution of Primary Health Outcomes by Demographic
Variables</h5>
<p>We explored how our primary health outcomes were distributed across
demographic and socioeconomic groups. We used
<code>mental_health_not_good_days</code>,
<code>physical_health_not_good_days</code>,
<code>depressive_disorder</code>, and <code>binge_drink</code> based on
the consistent availability of these health outcomes across 2017-2024.
Before plotting, we ordered the factor levels of some demographic
variables to ensure categories appeared in a meaningful sequence in the
visualizations.</p>
<p>We used stacked bar plots to visualize these distributions with each
bar representing a demographic category, and the bar divided into
segments to show the proportion of individuals falling into each health
outcome. We used proportions instead of raw counts since the demographic
groups differ in size within the BRFSS dataset.</p>
<p>To efficiently visualize the distribution of these health outcome
across any demographic variable, we constructed a set of plotting
functions for each outcome.</p>
<pre class="r"><code>#Bad mental health days outcome
plot_mental_health = function(demo_var, plot_title) {
  
    brfss_data |&gt; 
    filter(
      !is.na(.data[[demo_var]]),
      !is.na(mental_health_not_good_days)
    ) |&gt; 
  
  ggplot(aes(x = .data[[demo_var]], fill = mental_health_not_good_days)) +
    geom_bar(position = &quot;fill&quot;) +
    scale_fill_manual(
    values = c(
      &quot;0&quot; = &quot;darkolivegreen2&quot;,
      &quot;1-13&quot; = &quot;yellow2&quot;,
      &quot;14+&quot; = &quot;brown2&quot;
    ),
    name = &quot;# of Bad Mental Health Days&quot;
  ) +
    labs(
      x = demo_var,
      y = &quot;Proportion&quot;,
      title = plot_title
    ) +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
  
}

#Bad physical health days outcome
plot_physical_health = function(brfss_data, demo_var, plot_title) {
  
    brfss_data |&gt; 
    drop_na(physical_health_not_good_days) |&gt; 
    drop_na(.data[[demo_var]]) |&gt; 
  
  ggplot(aes(x = .data[[demo_var]], fill = physical_health_not_good_days)) +
    geom_bar(position = &quot;fill&quot;) +
    scale_fill_manual(
    values = c(
      &quot;0&quot; = &quot;darkolivegreen2&quot;,
      &quot;1-13&quot; = &quot;yellow2&quot;,
      &quot;14+&quot; = &quot;brown2&quot;
    ),
    name = &quot;# of Bad Physical Health Days&quot;
  ) +
    labs(
      x = demo_var,
      y = &quot;Proportion&quot;,
      title = plot_title
    ) +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
  
}

#Depressive disorder outcome
plot_depression = function(demo_var, plot_title) {
  
    brfss_data |&gt; 
    mutate(
      income_level = factor(
        income_level,
        levels = c(
          &quot;Less than $10,000&quot;,
          &quot;$10,000 to &lt; $15,000&quot;,
          &quot;$15,000 to &lt; $20,000&quot;,
          &quot;$20,000 to &lt; $25,000&quot;,
          &quot;$25,000 to &lt; $35,000&quot;,
          &quot;$35,000 to &lt; $50,000&quot;,
          &quot;$50,000 to &lt; $75,000&quot;,
          &quot;$75,000 or more&quot;)
        )
      ) |&gt; 
    drop_na(depressive_disorder) |&gt; 
    drop_na(.data[[demo_var]]) |&gt; 
  
  ggplot(aes(x = .data[[demo_var]], fill = depressive_disorder)) +
    geom_bar(position = &quot;fill&quot;) +
    scale_fill_manual(
    values = c(
      &quot;No&quot; = &quot;steelblue2&quot;,
      &quot;Yes&quot; = &quot;red4&quot;
    ),
    name = &quot;Depressive Disorder&quot;
  ) +
    labs(
      x = demo_var,
      y = &quot;Proportion&quot;,
      title = plot_title
    ) +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
}

#Binge drinker outcome
plot_bingedrink = function(demo_var, plot_title) {
  
    brfss_data |&gt; 
    drop_na(binge_drink) |&gt; 
    drop_na(.data[[demo_var]]) |&gt; 
  
  ggplot(aes(x = .data[[demo_var]], fill = binge_drink)) +
    geom_bar(position = &quot;fill&quot;) +
    scale_fill_manual(
    values = c(
      &quot;No&quot; = &quot;steelblue2&quot;,
      &quot;Yes&quot; = &quot;red4&quot;
    ),
    name = &quot;Binge Drinker&quot;
  ) +
    labs(
      x = demo_var,
      y = &quot;Proportion&quot;,
      title = plot_title
    ) +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
}</code></pre>
<p>Looking at the distribution of bad mental health days by age
group:</p>
<pre class="r"><code>plot_mental_health(
  demo_var = &quot;age_group_5yr&quot;,
  plot_title = &quot;Distribution of Bad Mental Health Days by Age Group&quot;
)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>The 18-24 and 25-29 age groups have the largest proportion of
individuals reporting 1-13 and 14+ bad mental health days. Younger
adults report the highest frequency of bad mental health days, while
older adults report the lowest.</p>
<p>Looking at the distribution of bad physical health days by sex:</p>
<pre class="r"><code>plot_physical_health(
  brfss_data,
  demo_var = &quot;sex&quot;,
  plot_title = &quot;Distribution of Bad Physical Health Days by Sex&quot;
)
## Warning: Use of .data in tidyselect expressions was deprecated in tidyselect 1.2.0.
## ℹ Please use `all_of(var)` (or `any_of(var)`) instead of `.data[[var]]`
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>We can see that overall distributions are very similar across males
and females. The proportion reporting 14+ days is relatively small and
nearly identical between sexes. The similarity in patterns can show that
sex differences are unlikely to significantly confound associations
unless interacting with age or other factors.</p>
<p>Distribution of Depressive order by Income Level:</p>
<pre class="r"><code>plot_depression(
  demo_var = &quot;income_level&quot;,
  plot_title = &quot;Distribution of Depressive Order by Income Level&quot;
)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>The lowest-income groups (less than $10,000 and $10,000 to
&lt;$15,000) have the highest proportions of individuals reporting a
depressive disorder. As income decreases, the proportion of respondents
with depressive disorder increases.</p>
<p>Distribution of Binge drinking by Age Group:</p>
<pre class="r"><code>plot_bingedrink(
  demo_var = &quot;age_group_5yr&quot;,
  plot_title = &quot;Distribution of Binge Drinking by Age Group&quot;
)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>We can see that binge drinking is most common among younger adults
with the peak in the 25-29 age group. It steadily declines as age
increases.</p>
</div>
</div>
</div>
<div id="additional-analysis" class="section level1">
<h1>6. Additional analysis</h1>
<div
id="if-you-undertake-formal-statistical-analyses-describe-these-in-detail"
class="section level4">
<h4>If you undertake formal statistical analyses, describe these in
detail</h4>
<p>To test the relationship between sports betting legalization and
health outcomes, we employed two statistical approaches: a proportion
test to compare the prevalence of adverse outcomes before and after the
legalization of sports betting, and a Fisher’s Exact Test to calculate
the Relative Risk (RR) of these outcomes in states where sports betting
is legal vs. states where it is illegal for the most recent data in
2024. We compared outcome rates in “exposed” (sports betting is legal)
and “unexposed” (sports betting is not legal) populations.</p>
<div id="prop-tests" class="section level5">
<h5>Prop Tests</h5>
<p>Our one-sided two sample proportion tests are examining whether there
is a significant change (baseline is lower) in the rates of the 4 health
outcomes. In the first test, for example, the null hypothesis is that
the rate of a particular outcome (e.g. binge drinking) is the same in
2017 and in 2024. The alternative is that the rate of binge drinking was
less in 2017 that it was in 2024.</p>
<p>These tests looks at the raw change over time, regardless of when
legalization occurred, providing a general benchmark. The lines show the
change, and the color indicates statistical significance.</p>
<pre class="r"><code>prop_tests_state = 
  brfss_data |&gt; 
  filter(year(date) %in% c(2017, 2024)) |&gt;
  select(state, date, all_of(outcome_vars)) |&gt;
  pivot_longer(
    cols = all_of(outcome_vars),
    names_to = &quot;outcome&quot;,
    values_to = &quot;outcome_value&quot; 
    ) |&gt;
  group_by(state, outcome) |&gt;
  nest() |&gt; 
  mutate(test_result = map(data, run_prop_test_state)) |&gt; 
  factor_significant()

combine_plots(prop_tests_state)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-18-1.png" width="95%" /></p>
<p>The second test we wanted to run used each state’s specific
legalization date, <code>sb_legal</code>, as the inflection point. We
also repeated this test looking specifically at adults under 50 due to
their higher participation in sports betting.</p>
<p>According to <a
href="https://www.pewresearch.org/short-reads/2025/10/02/americans-increasingly-see-legal-sports-betting-as-a-bad-thing-for-society-and-sports/">PEW</a>
research, “Young adults are more likely than older Americans to say
they’ve placed a sports bet in the past year.”</p>
<pre class="r"><code>prop_tests_sb_legal = 
  brfss_data |&gt; 
  select(state, sb_legal, all_of(outcome_vars)) |&gt;
  pivot_longer(
    cols = all_of(outcome_vars),
    names_to = &quot;outcome&quot;,
    values_to = &quot;outcome_value&quot; 
    ) |&gt;
  group_by(state, outcome) |&gt;
  nest() |&gt; 
  mutate(test_result = map(data, run_prop_test_state_legalization)) |&gt; 
  factor_significant()

combine_plots(prop_tests_sb_legal)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-19-1.png" width="95%" /></p>
<pre class="r"><code>prop_tests_sb_legal = 
  brfss_data |&gt; 
  filter(age_group_5yr %in% c(&quot;18-24&quot;, &quot;25-29&quot;, &quot;30-34&quot;, &quot;35-39&quot;, &quot;40-44&quot;, &quot;45-49&quot;)) |&gt; 
  select(state, sb_legal, all_of(outcome_vars)) |&gt;
  pivot_longer(
    cols = all_of(outcome_vars),
    names_to = &quot;outcome&quot;,
    values_to = &quot;outcome_value&quot; 
    ) |&gt;
  group_by(state, outcome) |&gt;
  nest() |&gt; 
  mutate(test_result = map(data, run_prop_test_state_legalization)) |&gt; 
  factor_significant()

combine_plots(prop_tests_sb_legal)</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-20-1.png" width="95%" /></p>
</div>
<div
id="relative-risk-of-poor-mental-health-outcomes-in-legal-vs.-non-legal-states-in-2024"
class="section level5">
<h5>Relative Risk of Poor Mental Health Outcomes in Legal vs. Non-Legal
states in 2024</h5>
<p>In 2024, what is the risk of having poor mental health outcomes based
on state legalization?</p>
<p>Exposure: betting legalization</p>
<p>Outcomes: any_physical_health_not_good_days,
any_mental_health_not_good_days, has_depressive_disorder,
has_binge_drink</p>
<p>We opted to use a Fisher’s exact test in the event that one of the
counts happened to be small. The goal of this test is to determine if
there is a statistically significant association between status of
sports betting legalization and the presence of the 4 health
outcomes.</p>
<pre class="r"><code>phys_health_results = 
  brfss_data |&gt;
  filter(year(date) == 2024, age_group_5yr %in% c(&quot;18-24&quot;, &quot;25-29&quot;), !is.na(any_physical_health_not_good_days)) |&gt;
  select(sb_legal, any_physical_health_not_good_days) |&gt; 
  rename(outcome = any_physical_health_not_good_days) |&gt; 
  run_fishers_test()

phys_health_results |&gt; pull(summary) |&gt; knitr::kable()</code></pre>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">sports_betting_legal</th>
<th align="right">outcome_FALSE</th>
<th align="right">outcome_TRUE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">6578</td>
<td align="right">4186</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">15277</td>
<td align="right">10692</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>
ment_health_results = 
  brfss_data |&gt;
  filter(year(date) == 2024, age_group_5yr %in% c(&quot;18-24&quot;, &quot;25-29&quot;), !is.na(any_mental_health_not_good_days)) |&gt;
  select(sb_legal, any_mental_health_not_good_days) |&gt; 
  rename(outcome = any_mental_health_not_good_days) |&gt; 
  run_fishers_test()

ment_health_results |&gt; pull(summary) |&gt; knitr::kable()</code></pre>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">sports_betting_legal</th>
<th align="right">outcome_FALSE</th>
<th align="right">outcome_TRUE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">4357</td>
<td align="right">6384</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">9739</td>
<td align="right">16298</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>
depression_results = 
  brfss_data |&gt;
  filter(year(date) == 2024, age_group_5yr %in% c(&quot;18-24&quot;, &quot;25-29&quot;), !is.na(has_depressive_disorder)) |&gt;
  select(sb_legal, has_depressive_disorder) |&gt; 
  rename(outcome = has_depressive_disorder) |&gt; 
  run_fishers_test()

depression_results |&gt; pull(summary) |&gt; knitr::kable()</code></pre>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">sports_betting_legal</th>
<th align="right">outcome_FALSE</th>
<th align="right">outcome_TRUE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">8050</td>
<td align="right">2794</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">18989</td>
<td align="right">7211</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>
binge_drink_results = 
  brfss_data |&gt;
  filter(year(date) == 2024, age_group_5yr %in% c(&quot;18-24&quot;, &quot;25-29&quot;), !is.na(has_binge_drink)) |&gt;
  select(sb_legal, has_binge_drink) |&gt; 
  rename(outcome = has_binge_drink) |&gt; 
  run_fishers_test()

binge_drink_results |&gt; pull(summary) |&gt; knitr::kable()</code></pre>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">sports_betting_legal</th>
<th align="right">outcome_FALSE</th>
<th align="right">outcome_TRUE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">8474</td>
<td align="right">2278</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">19721</td>
<td align="right">6319</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="linear-regression-on-any-bad-mental-health-days"
class="section level4">
<h4>Linear Regression on any bad mental health days</h4>
<pre class="r"><code>brfss_data = load_clean_brfss(here::here(&quot;data&quot;, &quot;brfss_clean_2017_2024.csv.zip&quot;)) |&gt; 
  mutate(
    month = lubridate::floor_date(date, unit = &quot;month&quot;)
 )
## Rows: 37 Columns: 6
## ── Column specification ────────────────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (2): state, abbr
## dbl  (1): fips
## date (3): first_start, online, offline
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
## Multiple files in zip: reading &#39;brfss_clean_2017_2024.csv&#39;
## Rows: 2749477 Columns: 39
## ── Column specification ────────────────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr   (2): imonth, iday
## dbl  (36): qstver, dispcode, state, seqno, iyear, sex, marital, educag, empl...
## date  (1): date
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>Filter age group &lt; 50 (and sports betting legal)</p>
<pre class="r"><code>brfss_age_data = brfss_data |&gt; 
  filter(
    age_group_5yr %in% 
      c(&quot;18-24&quot;,&quot;25-29&quot;,&quot;30-34&quot;,&quot;35-39&quot;,&quot;40-44&quot;,&quot;45-49&quot;),
    sb_legal %in% c(0, 1))</code></pre>
<p>We used a linear regression model to look at the effect of legalized
sports betting on any bad mental health days, and the interaction
between sex and age.</p>
<pre class="r"><code>fit =  lm(any_mental_health_not_good_days ~ sex + age_group_5yr + sb_legal 
                             + sex * sb_legal 
                             + age_group_5yr * sb_legal, data = brfss_age_data) 
fit_result = fit |&gt; 
  broom::tidy() |&gt; 
  select(term, estimate, std.error, p.value)

fit_result |&gt; 
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.658</td>
<td align="right">0.002</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">sexMale</td>
<td align="right">-0.140</td>
<td align="right">0.002</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">age_group_5yr25-29</td>
<td align="right">-0.067</td>
<td align="right">0.003</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age_group_5yr30-34</td>
<td align="right">-0.106</td>
<td align="right">0.003</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">age_group_5yr35-39</td>
<td align="right">-0.135</td>
<td align="right">0.003</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age_group_5yr40-44</td>
<td align="right">-0.168</td>
<td align="right">0.003</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">age_group_5yr45-49</td>
<td align="right">-0.183</td>
<td align="right">0.003</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">sb_legal</td>
<td align="right">0.053</td>
<td align="right">0.003</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">sexMale:sb_legal</td>
<td align="right">0.002</td>
<td align="right">0.002</td>
<td align="right">0.425</td>
</tr>
<tr class="even">
<td align="left">age_group_5yr25-29:sb_legal</td>
<td align="right">0.031</td>
<td align="right">0.005</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">age_group_5yr30-34:sb_legal</td>
<td align="right">0.030</td>
<td align="right">0.004</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age_group_5yr35-39:sb_legal</td>
<td align="right">0.022</td>
<td align="right">0.004</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">age_group_5yr40-44:sb_legal</td>
<td align="right">0.017</td>
<td align="right">0.004</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age_group_5yr45-49:sb_legal</td>
<td align="right">0.002</td>
<td align="right">0.004</td>
<td align="right">0.651</td>
</tr>
</tbody>
</table>
</div>
<div id="predicted-probability-of-1-mentally-unhealthy-day"
class="section level4">
<h4>Predicted Probability of ≥1 Mentally Unhealthy Day</h4>
<pre class="r"><code># Build prediction grid
pred_df = expand.grid(
  sex = c(&quot;Female&quot;, &quot;Male&quot;),
  age_group_5yr = c(&quot;18-24&quot;,&quot;25-29&quot;,&quot;30-34&quot;,&quot;35-39&quot;,&quot;40-44&quot;,&quot;45-49&quot;),
  sb_legal = c(0, 1)   # illegal = 0, legal = 1
)

# Get predicted probabilities and plot
pred_df |&gt; 
  mutate(pred_prob = predict(fit, newdata = pred_df)) |&gt; 
  ggplot(aes(x = age_group_5yr, y = pred_prob,
                    color = interaction(sex, sb_legal),
                    group = interaction(sex, sb_legal),
                    linetype = factor(sb_legal))) +
  geom_line(size = 1.1) +
  scale_color_manual(
    name = &quot;&quot;,
    values = c(
      &quot;Female.0&quot; = &quot;#AA336A&quot;,  # orange solid
      &quot;Female.1&quot; = &quot;#DE3163&quot;,  # blue dashed
      &quot;Male.0&quot;   = &quot;#4682B4&quot;,  # green solid
      &quot;Male.1&quot;   = &quot;#0F52BA&quot;   # blue dashed
    ),
    labels = c(
      &quot;Female.0&quot; = &quot;Female - SB illegal&quot;,
      &quot;Female.1&quot; = &quot;Female - SB legal&quot;,
      &quot;Male.0&quot;   = &quot;Male - SB illegal&quot;,
      &quot;Male.1&quot;   = &quot;Male - SB legal&quot;
    )
  ) +
  scale_linetype_manual(
    name = &quot;&quot;,
    values = c(&quot;0&quot; = &quot;solid&quot;, &quot;1&quot; = &quot;dashed&quot;),
    labels = c(&quot;0&quot; = &quot;SB illegal&quot;, &quot;1&quot; = &quot;SB legal&quot;)
  ) +
  labs(
    x = &quot;Age Group&quot;,
    y = &quot;Predicted Probability&quot;,
    title = &quot;Predicted Probability of ≥1 Mentally Unhealthy Day&quot;,
    subtitle = &quot;Interaction: Age × Sex × Sports Betting Legalization&quot;
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = &quot;right&quot;,
    axis.text.x = element_text(angle = 45, hjust = 1)
  )</code></pre>
<p><img src="Final_Report_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
</div>
<div id="discussion" class="section level1">
<h1>7. Discussion</h1>
<p>Overall, we found a significant relationship between legalization of
sports betting and poor physical/mental health. It is important to note
that in our statistical analyses, even if the effect size was small, we
still had a small p-value. This is likely due to the size of the BRFSS
dataset (~2.7 million observations).</p>
<p>Our tests of proportion, which first examined the overall trend in
the four health outcomes between 2017 and 2024, established two trends
at the national scale. First, there is a clear increase in the rate of
survey participants reporting at least one poor physical or mental
health day in almost all states. This is an important benchmark for
effects we observed later on. However, rates of depressive disorders
showed a slight increase and rates in binge drinking remained the same
across this period.</p>
<p>To isolate the impact of the change in sport betting legalization, we
performed additional tests of proportion using each state’s date of
legalization as the inflection point. These results largely mirrored the
overall trends observed nationally between 2017 and 2024. This implies
that the impact of sports betting legalization in a particular state did
not deviate from the broader trend observed over time. One important
note is that this period includes the COVID-19 pandemic, which likely
had effects on health outcomes in the US and overlaps with the dates
that several states legalized sports betting.</p>
<p>Knowing that more young adults participate in sports betting, we
further filtered the data for participants under 50 years old. In this
subset, the overall rate of mental health and depressive disorders was
higher than the general population. This makes sense intuitively.
However, the change in the rate after legalization was similar to the
overall change.</p>
<p>When put together, these tests of proportion suggest that health
outcomes have worsened since 2017 across the US overall. These results
do not show that sports betting legalization changes these trends beyond
what is observed temporally at the national level.</p>
<p>However, this conclusion is modified when we look at the relative
risk of adverse health outcomes in 2024:</p>
<p>Among BRFSS participants in 2024 between the ages of 18 and 29, those
who resided in states with legalized sports betting had:</p>
<ul>
<li>1.06x risk of having at least 1 day of poor physical health</li>
<li>1.05x risk of having at least 1 day of poor mental health</li>
<li>1.07x risk of having depression</li>
<li>1.15x risk of binge drinking</li>
</ul>
<p>compared to those residing in states where sports betting is not
legal. Each of these results also show that there is a statistically
significant relationship between the status of sports betting
legalization and health outcomes:</p>
<ul>
<li>At least 1 day of poor physical health: p = 5.08e-05</li>
<li>At least 1 day of poor mental health: p = 1.61e-08</li>
<li>Depression: p = 5.17e-04</li>
<li>Binge Drinking: p = 1.75e-10</li>
</ul>
<p>The regression model showed baseline differences in mental health
between sexes and age groups as well as the effects of legalized sports
gambling. Men have a 14.02 percentage point lower probability of
reporting ≥1 mentally unhealthy day compared to women (p &lt; 0.001).
All age coefficients are negative, meaning older groups report fewer
mentally unhealthy days than 18–24-year-olds, This matches known
demographic patterns typical in BRFSS mental health data.</p>
<p>The overall effect of sports betting legality (<code>sb_legal</code>)
was 0.053 p = 8.06e-55. In the reference group (female, age 18–24),
living in a state where sports betting is legal is associated with a
5.262 percentage point higher probability of reporting ≥1 mentally
unhealthy day in the past month.</p>
<p>There is no meaningful difference in the effect of sports betting
legalization between men and women. The coefficient is tiny (0.0019712)
and not statistically significant (p = 0.425.)</p>
<p>Each age interaction term tells us how much the effect of sports
betting legality differs from the reference group (18–24).</p>
<pre class="r"><code>fit_result |&gt; 
  filter(str_starts(term, &quot;age_group_&quot;) &amp; str_ends(term, &quot;sb_legal&quot;)) |&gt; 
  select(term, estimate, p.value) |&gt; 
  mutate(
    term = str_replace_all(term, c(&quot;age_group_5yr&quot;=&quot;&quot;, &quot;:sb_legal&quot;=&quot;&quot;))
  ) |&gt; 
  rename(&quot;Age Group&quot; = term) |&gt; 
  knitr::kable(digits=3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Age Group</th>
<th align="right">estimate</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">25-29</td>
<td align="right">0.031</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">30-34</td>
<td align="right">0.030</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">35-39</td>
<td align="right">0.022</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">40-44</td>
<td align="right">0.017</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">45-49</td>
<td align="right">0.002</td>
<td align="right">0.651</td>
</tr>
</tbody>
</table>
<p>The effect is largest for adults 25-29 (0.0310474) and not
significant for adults 45-49. The impact of sports betting legalization
on mentally unhealthy days appears stronger for younger adults (25–44)
but then plateaus. This result can also be seen in the predicted
probabilty of having 1 or more bad mental health days.</p>
<p>The results showed how the predicted probability of reporting at
least one mentally unhealthy day in the past month varies across age
groups, sex, and whether sports betting is legal in the respondent’s
state. When sports betting is not legal, women consistently report
higher rates of mentally unhealthy days than men across all age groups.
Both sexes show a steady decline in mentally unhealthy days as age
increases, with 18–24-year-olds exhibiting the highest risk and
45–50-year-olds the lowest.</p>
<p>The effect of sports betting legalization is shown by the separation
between the dashed lines (SB legal) and the solid lines. Across all age
groups, the dashed lines lie above the corresponding solid lines, which
means sports betting legalization is associated with a higher
probability of reporting mentally unhealthy days. It also shows the size
of this increase varies by age and the difference is largest among young
and early-mid adults, especially ages 25–44.</p>
<p>The vertical distance between male and female lines remains fairly
constant regardless of legalization status, which indicates women
consistently report more mentally unhealthy days than men. The effect of
sports betting legalization is similar for both sexes (this supports the
non-significant sex × legalization interaction in the regression
model).</p>
<p>The graph visually confirms the pattern in the coefficients: among
younger adults (25–44), the increase associated with sports betting
legalization is noticeably larger and this decreases with age. This
suggests that younger and mid-age adults may be more sensitive to
environmental or policy changes related to gambling or these age groups
may participate more in gambling or be more exposed to advertising or
technology that connects them to sports betting markets.</p>
<p>Sports betting legalization is associated with a higher probability
of experiencing mentally unhealthy days, especially among adults aged
25–44, and this pattern is similar for both men and women. The effect
does not appear uniform across age groups, indicating a meaningful
interaction between age and policy.</p>
<div id="overall-conclusions" class="section level4">
<h4>Overall Conclusions</h4>
<p>After adjusting for sex and age, living in a state with legal sports
betting is associated with higher probability of having mentally
unhealthy days, especially among adults aged 25–44. The effect size is
around 5–8 percentage points, depending on age group. Men and women are
affected similarly, which doesn’t align with the Couture et
al. findings, likely because we were looking at a larger dataset which
included post-COVID-19 observations. Younger adults (18–24) have the
highest baseline mental health risk, but legalization effects are
somewhat stronger for those 25–44. These associations cannot establish
causality (due to cross-sectional BRFSS data), but they indicate a
robust correlation.</p>
<div id="limitations" class="section level5">
<h5>Limitations</h5>
<p>We are not following the same participants over time which prevents
establishing causal relationships. We cannot determine whether the
legalization of sports betting directly contributed to worsening health
outcomes. Also, the measure of health outcomes are self-reported which
may introduce recall bias and response bias. Respondents may
inaccurately recall their health over the past 30 days and under-report
sensitive behaviors due to stigma.</p>
<p>The study period includes the COVID-19 pandemic which potentially
serves as a major confounding event. Changes in health outcomes related
to the pandemic may coincide with legalization, confounding
associations. Our exposure variable, <code>sb_legal</code> does not
account for individual sports betting behavior or the level/intensity of
exposure, therefore, which only allowed us to address population-level
associations based on legalization exposure.</p>
</div>
<div id="additional-analyses" class="section level5">
<h5>Additional Analyses</h5>
<p>There are many additional analyses that could be done on the dataset,
given more time. This includes finely tuning the regression model and
addressing confounding factors, like COVID. We observed that mental
health outcomes decreased overall from 2017-2024, but establishing a
causal effect of sports betting would require further analysis. We did
not get a chance to look at the effect of online vs. retail-only sports
betting legalization (which varies state-to-state), but this would be
another interesting policy effect to examine.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
